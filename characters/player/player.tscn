[gd_scene load_steps=11 format=3 uid="uid://byw2vrqxq0slp"]

[ext_resource type="Texture2D" uid="uid://dx540idfv7f3m" path="res://characters/player/player_assets/female_player_sprite.png" id="1_onj6w"]
[ext_resource type="Script" path="res://characters/player/player.gd" id="1_v1i0g"]
[ext_resource type="Texture2D" uid="uid://dkljmhd55cuf7" path="res://ui/assets/yokai_watch/watch_background.png" id="3_odi5c"]
[ext_resource type="Texture2D" uid="uid://du8uv32dgooga" path="res://ui/assets/objective/objective_background.png" id="4_3pe0d"]
[ext_resource type="Texture2D" uid="uid://lub0ohg3px0j" path="res://characters/player/player_assets/ui_button.png" id="5_mwuta"]
[ext_resource type="Texture2D" uid="uid://bcfi1oo3fw0ps" path="res://characters/player/player_assets/sprint_bar.png" id="6_flss0"]

[sub_resource type="Animation" id="Animation_1ulla"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Sprite2D2:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector2(120, 127)]
}

[sub_resource type="Animation" id="Animation_3w5pr"]
resource_name = "hide_objective"
length = 0.5
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Sprite2D2:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.5),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Vector2(120, 127), Vector2(120, 143)]
}

[sub_resource type="Animation" id="Animation_fl0r0"]
resource_name = "show_objective"
length = 0.5
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Sprite2D2:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.5),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Vector2(120, 143), Vector2(120, 127)]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_7c0ks"]
_data = {
"RESET": SubResource("Animation_1ulla"),
"hide_objective": SubResource("Animation_3w5pr"),
"show_objective": SubResource("Animation_fl0r0")
}

[node name="player" type="CharacterBody2D"]
script = ExtResource("1_v1i0g")

[node name="camera" type="Camera2D" parent="."]

[node name="player_sprite" type="Sprite2D" parent="."]
position = Vector2(1, -16)
texture = ExtResource("1_onj6w")

[node name="player_ui" type="CanvasLayer" parent="."]

[node name="Sprite2D" type="Sprite2D" parent="player_ui"]
position = Vector2(216, 16)
texture = ExtResource("3_odi5c")

[node name="Sprite2D2" type="Sprite2D" parent="player_ui"]
position = Vector2(120, 127)
texture = ExtResource("4_3pe0d")

[node name="ui_anim_player" type="AnimationPlayer" parent="player_ui"]
libraries = {
"": SubResource("AnimationLibrary_7c0ks")
}

[node name="hitbox" type="CollisionPolygon2D" parent="."]
position = Vector2(0, -10)
polygon = PackedVector2Array(-7, 6, -7, 10, 7, 10, 7, 6)

[node name="hurtbox" type="Area2D" parent="."]
position = Vector2(-9, -4)

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="hurtbox"]
position = Vector2(0, -10)
polygon = PackedVector2Array(-2, 10, -2, 14, 2, 14, 2, 10)

[node name="accept_button" type="Sprite2D" parent="."]
visible = false
position = Vector2(16, -12)
texture = ExtResource("5_mwuta")

[node name="sprint_bar" type="Sprite2D" parent="."]
position = Vector2(14, -14)
texture = ExtResource("6_flss0")
hframes = 4

[node name="sprint_timer" type="Timer" parent="sprint_bar"]
wait_time = 2.0

[connection signal="area_entered" from="hurtbox" to="." method="_on_hurtbox_area_entered"]
[connection signal="area_exited" from="hurtbox" to="." method="_on_hurtbox_area_exited"]
